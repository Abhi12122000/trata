[1][      debug] Sqlite write daemon: starting up
[1][      debug] Sqlite write daemon: set up complete, waiting for connections
[7][      debug] Sqlite write daemon: process starting, pid= 7
[1][environment] CWD = /build
[1][environment] No .inferconfig file found
[1][environment] Project root = /src
[1][environment] INFER_ARGS =   @/tmp/args.tmp.a3a0d7 --progress-bar-style plain
[1][environment] command line arguments:   infer --reactive --keep-going --project-root=/src
[1][environment]                           -o /out
[1][environment]                           --compilation-database=/src/build/compile_commands.docker.json
[1][environment]                           --skip-analysis-in-path=/Users/abhishek.kumar/RubymineProjects/onboarding/aixcc-afc-archive/trata/example-c-target/fuzz/vuln_fuzzer.c
[1][environment] Available memory at startup: 28915 MB
[1][environment] Active checkers: self-in-block (C/C++/ObjC), parameter-not-null-checked (C/C++/ObjC), starvation (C/C++/ObjC, Java), siof (C/C++/ObjC), racerd (C/C++/ObjC, C#/.Net, Java), pulse (C/C++/ObjC, C#/.Net, Erlang, Hack, Java, Python), liveness (C/C++/ObjC), inefficient-keyset-iterator (Java), fragment-retains-view (Java)
[1][environment] Scheduler: restart
[1][environment] Cores used: 9
[1][environment] Infer version v1.2.0
[1][environment] Copyright 2009 - present Facebook. All Rights Reserved.
[1][environment] 
[1][   progress] Capturing using compilation database...
[1][      debug] parsing compilation database from /src/build/compile_commands.docker.json
[1][      debug] created database with 1 entries
[1][      debug] Starting translating 1 files
[1][      debug] 
[1][   progress] Starting translating 1 files
[1][   progress] 









[17][      debug] 
[17][      debug] *** Beginning capture of file /src/src/vuln.c ***
[17][      debug] Elapsed: 360ms.
[17][      debug] GC stats for capture:
[17][      debug]   minor_words: 638597
[17][      debug]   promoted_words: 230837
[17][      debug]   major_words: 241930
[17][      debug]   minor_collections: 1
[17][      debug]   major_collections: 0
[17][      debug]   compactions: 0
[17][      debug]   top_heap_words: 1006592
[17][      debug]   
[17][      debug] GC stats for main_process_full:
[17][      debug]   minor_words: 3.3589e+06
[17][      debug]   promoted_words: 938174
[17][      debug]   major_words: 986927
[17][      debug]   minor_collections: 9
[17][      debug]   major_collections: 1
[17][      debug]   compactions: 0
[17][      debug]   top_heap_words: 1006592
[17][      debug]   

[1][      debug] GC stats for capture:
[1][      debug]   minor_words: 12945
[1][      debug]   promoted_words: 175218
[1][      debug]   major_words: 183925
[1][      debug]   minor_collections: 2
[1][      debug]   major_collections: 2
[1][      debug]   compactions: 1
[1][      debug]   top_heap_words: 1006592
[1][      debug]   
[1][environment] Parallel jobs: 9
[1][   progress] Found 1 (out of 1) source file to analyze in /out
[26][   progress] src/vuln.c starting
[24][   progress] Analysing block of 200 procs, starting with main
[25][   progress] Analysing block of 200 procs, starting with double_free_example
[23][   progress] Analysing block of 200 procs, starting with use_after_free_example
[22][   progress] Analysing block of 200 procs, starting with null_deref_example
[26][   progress] src/vuln.c DONE
[24][   progress] src/vuln.c starting
[24][   progress] src/vuln.c DONE
[22][   progress] src/vuln.c starting
[22][   progress] src/vuln.c DONE
[1][      debug] Backend stats:
[1][      debug]   summary_file_try_load= 50
[1][      debug]   summary_read_from_disk= 4
[1][      debug]   summary_cache_hits= 17 (25%)
[1][      debug]   summary_cache_misses= 50
[1][      debug]   ondemand_procs_analyzed= 4
[1][      debug]   proc_locker_lock_time_user= 0.00303400
[1][      debug]   proc_locker_lock_time_sys= 0.00058200
[1][      debug]   proc_locker_lock_time_wall= 0.01810008
[1][      debug]   proc_locker_lock_time_oncpu_pct= 20%
[1][      debug]   proc_locker_unlock_time_user= 0.00039100
[1][      debug]   proc_locker_unlock_time_sys= 0.00000900
[1][      debug]   proc_locker_unlock_time_wall= 0.00180092
[1][      debug]   proc_locker_unlock_time_oncpu_pct= 22%
[1][      debug]   restart_scheduler_useful_time_user= 0.40511200
[1][      debug]   restart_scheduler_useful_time_sys= 0.04133300
[1][      debug]   restart_scheduler_useful_time_wall= 0.62298379
[1][      debug]   restart_scheduler_useful_time_oncpu_pct= 72%
[1][      debug]   restart_scheduler_total_time_user= 0.42214700
[1][      debug]   restart_scheduler_total_time_sys= 0.04692000
[1][      debug]   restart_scheduler_total_time_wall= 0.64583792
[1][      debug]   restart_scheduler_total_time_oncpu_pct= 73%
[1][      debug]   pulse_aliasing_contradictions= 0
[1][      debug]   pulse_args_length_contradictions= 0
[1][      debug]   pulse_captured_vars_length_contradictions= 0
[1][      debug]   pulse_disjuncts_dropped= 0
[1][      debug]   pulse_interrupted_loops= 0
[1][      debug]   pulse_summaries_contradictions= 0
[1][      debug]   pulse_summaries_unsat_for_caller= 3
[1][      debug]   pulse_summaries_unsat_for_caller_percent= 75
[1][      debug]   pulse_summaries_with_some_unreachable_nodes= 1
[1][      debug]   pulse_summaries_with_some_unreachable_nodes_percent= 25
[1][      debug]   pulse_summaries_with_some_unreachable_returns= 0
[1][      debug]   pulse_summaries_with_some_unreachable_returns_percent= 0.0%
[1][      debug]   pulse_summaries_count= [2 -> 2, 3 -> 1, 7 -> 1]
[1][      debug]   pulse_summaries_total_disjuncts= 14
[1][      debug]   pulse_summaries_count_0_continue_program= 0
[1][      debug]   pulse_summaries_count_0_percent= 0
[1][      debug]   topl_reachable_calls= 0
[1][      debug]   timeouts= 0
[1][      debug]   timings= timings for liveness:
[1][      debug]     p10: 0.000157s p20: 0.000825s p30: 0.001717s p40: 0.002396s
[1][      debug]     p50: 0.002439s p60: 0.002482s p70: 0.002590s p80: 0.002720s
[1][      debug]     p90: 0.002818s p95: 0.002818s p96: 0.002818s p97: 0.002818s
[1][      debug]     p98: 0.002818s p99: 0.002818s p99.9: 0.002818s p99.99: 0.002818s 
[1][      debug]   timings for parameter-not-null-checked:
[1][      debug]     p10: 0.000009s p20: 0.000062s p30: 0.000567s p40: 0.001525s
[1][      debug]     p50: 0.002779s p60: 0.003894s p70: 0.004011s p80: 0.004464s
[1][      debug]     p90: 0.005255s p95: 0.005387s p96: 0.005387s p97: 0.005387s
[1][      debug]     p98: 0.005387s p99: 0.005387s p99.9: 0.005387s p99.99: 0.005387s 
[1][      debug]   timings for pulse:
[1][      debug]     p10: 0.025399s p20: 0.026368s p30: 0.027659s p40: 0.029126s
[1][      debug]     p50: 0.031120s p60: 0.033113s p70: 0.036653s p80: 0.040710s
[1][      debug]     p90: 0.043752s p95: 0.043752s p96: 0.043752s p97: 0.043752s
[1][      debug]     p98: 0.043752s p99: 0.043752s p99.9: 0.043752s p99.99: 0.043752s 
[1][      debug]   timings for racerd:
[1][      debug]     p10: 0.000841s p20: 0.001366s p30: 0.002067s p40: 0.002638s
[1][      debug]     p50: 0.002820s p60: 0.003002s p70: 0.003052s p80: 0.003058s
[1][      debug]     p90: 0.003062s p95: 0.003062s p96: 0.003062s p97: 0.003062s
[1][      debug]     p98: 0.003062s p99: 0.003062s p99.9: 0.003062s p99.99: 0.003062s 
[1][      debug]   timings for self-in-block:
[1][      debug]     p10: 0.000000s p20: 0.000003s p30: 0.000021s p40: 0.000054s
[1][      debug]     p50: 0.000059s p60: 0.000064s p70: 0.000093s p80: 0.000120s
[1][      debug]     p90: 0.000145s p95: 0.000149s p96: 0.000149s p97: 0.000149s
[1][      debug]     p98: 0.000149s p99: 0.000149s p99.9: 0.000149s p99.99: 0.000149s 
[1][      debug]   timings for siof:
[1][      debug]     p10: 0.000000s p20: 0.000438s p30: 0.001021s p40: 0.001462s
[1][      debug]     p50: 0.001474s p60: 0.001485s p70: 0.001516s p80: 0.001554s
[1][      debug]     p90: 0.001582s p95: 0.001582s p96: 0.001582s p97: 0.001582s
[1][      debug]     p98: 0.001582s p99: 0.001582s p99.9: 0.001582s p99.99: 0.001582s 
[1][      debug]   timings for starvation:
[1][      debug]     p10: 0.000230s p20: 0.000565s p30: 0.001492s p40: 0.003013s
[1][      debug]     p50: 0.003650s p60: 0.004077s p70: 0.004337s p80: 0.004717s
[1][      debug]     p90: 0.005217s p95: 0.005300s p96: 0.005300s p97: 0.005300s
[1][      debug]     p98: 0.005300s p99: 0.005300s p99.9: 0.005300s p99.99: 0.005300s 
[1][      debug]   timings for preanalysis:
[1][      debug]     p10: 0.000399s p20: 0.000420s p30: 0.002717s p40: 0.007288s
[1][      debug]     p50: 0.037402s p60: 0.067622s p70: 0.072825s p80: 0.076007s
[1][      debug]     p90: 0.077168s p95: 0.077362s p96: 0.077362s p97: 0.077362s
[1][      debug]     p98: 0.077362s p99: 0.077362s p99.9: 0.077362s p99.99: 0.077362s 
[1][      debug]   
[1][      debug]   longest_proc_duration_heap= [
[1][      debug]   190988us: src/vuln.c: null_deref_example
[1][      debug]   187699us: src/vuln.c: double_free_example
[1][      debug]   185762us: src/vuln.c: use_after_free_example
[1][      debug]   49356us: src/vuln.c: main
[1][      debug]   ]
[1][      debug]   process_times_user= 0.44198500
[1][      debug]   process_times_sys= 0.05328400
[1][      debug]   process_times_wall= 2.57600112
[1][      debug]   process_times_oncpu_pct= 19%
[1][      debug]   useful_times_user= 0.43985900
[1][      debug]   useful_times_sys= 0.05208400
[1][      debug]   useful_times_wall= 0.69369841
[1][      debug]   useful_times_oncpu_pct= 71%
[1][      debug]   spec_store_times_user= 0.20038800
[1][      debug]   spec_store_times_sys= 0.00538100
[1][      debug]   spec_store_times_wall= 0.37608754
[1][      debug]   spec_store_times_oncpu_pct= 55%
[1][      debug]   
[1][      debug] GC stats for backend_stats.gc_stats_add.:
[1][      debug]   minor_words: 2.87929e+06
[1][      debug]   promoted_words: 350306
[1][      debug]   major_words: 368917
[1][      debug]   minor_collections: 1
[1][      debug]   major_collections: 0
[1][      debug]   compactions: 0
[1][      debug]   top_heap_words: 9384448
[1][      debug]   
[1][      debug] GC stats for backend_stats.gc_stats_max.:
[1][      debug]   minor_words: 1.3113e+06
[1][      debug]   promoted_words: 350306
[1][      debug]   major_words: 355169
[1][      debug]   minor_collections: 1
[1][      debug]   major_collections: 0
[1][      debug]   compactions: 0
[1][      debug]   top_heap_words: 1331712
[1][      debug]   
[1][      debug] Average over 9 processes
[1][      debug] GC stats for backend_stats.gc_stats_average.:
[1][      debug]   minor_words: 319921
[1][      debug]   promoted_words: 38922.9
[1][      debug]   major_words: 40990.8
[1][      debug]   minor_collections: 0
[1][      debug]   major_collections: 0
[1][      debug]   compactions: 0
[1][      debug]   top_heap_words: 1042716
[1][      debug]   
[1][      debug] Analysis phase finished in 322ms
[1][      debug] backend_stats.scheduler_process_analysis_time_user= 0.03084500
[1][      debug] backend_stats.scheduler_process_analysis_time_sys= 0.01632400
[1][      debug] backend_stats.scheduler_process_analysis_time_wall= 0.32116267
[1][      debug] backend_stats.scheduler_process_analysis_time_oncpu_pct= 15%
[1][      debug] GC stats for analysis_scheduler:
[1][      debug]   minor_words: 526428
[1][      debug]   promoted_words: 2321
[1][      debug]   major_words: 316344
[1][      debug]   minor_collections: 1
[1][      debug]   major_collections: 2
[1][      debug]   compactions: 1
[1][      debug]   top_heap_words: 1331712
[1][      debug]   
[1][     result] 
src/vuln.c:22: error: Memory Leak
  Memory dynamically allocated by `malloc` on line 19 is not freed after the last access at line 22, column 5. 
  20.     }
  21.     // BUG: ptr might be NULL if trigger==0
  22.     ptr[0] = 'A';
          ^
  23. }
  24. 

src/vuln.c:30: error: Use After Free
  accessing `ptr` that was invalidated by call to `free()` on line 28. 
  28.     free(ptr);
  29.     // BUG: freeing already-freed memory
  30.     free(ptr);
          ^
  31. }
  32. 

src/vuln.c:37: error: Null Dereference
  The call to `null_deref_example` may trigger the following issue: `strcmp()` could be null (from the call to `null_deref_example()` on line 37) and is dereferenced in the call to `null_deref_example()`. 
  35.         use_after_free_example();
  36.     } else if (argc > 1 && strcmp(argv[1], "null") == 0) {
  37.         null_deref_example(0);
              ^
  38.     } else {
  39.         double_free_example();


Found 3 issues
             Issue Type(ISSUED_TYPE_ID): #
         Use After Free(USE_AFTER_FREE): 1
  Null Dereference(NULLPTR_DEREFERENCE): 1
             Memory Leak(MEMORY_LEAK_C): 1

[1][      debug] GC stats for report:
[1][      debug]   minor_words: 77086
[1][      debug]   promoted_words: 0
[1][      debug]   major_words: 2016
[1][      debug]   minor_collections: 0
[1][      debug]   major_collections: 0
[1][      debug]   compactions: 0
[1][      debug]   top_heap_words: 1331712
[1][      debug]   
[1][      debug] GC stats for main_process_full:
[1][      debug]   minor_words: 3.58475e+06
[1][      debug]   promoted_words: 898468
[1][      debug]   major_words: 1.26858e+06
[1][      debug]   minor_collections: 11
[1][      debug]   major_collections: 5
[1][      debug]   compactions: 2
[1][      debug]   top_heap_words: 1331712
[1][      debug]   
[1][      debug] Sqlite write daemon: waiting for process 7 to finish
[7][      debug] Detected 0 spec overwrites.
[7][      debug] Sqlite write daemon: terminating
[7][      debug] dbwriter.useful_time_user= 0.06912000
[7][      debug] dbwriter.useful_time_sys= 0.00176700
[7][      debug] dbwriter.useful_time_wall= 0.14091163
[7][      debug] dbwriter.useful_time_oncpu_pct= 50%
[7][      debug] dbwriter.store_sql_user= 0.00131700
[7][      debug] dbwriter.store_sql_sys= 0.00000200
[7][      debug] dbwriter.store_sql_wall= 0.00289463
[7][      debug] dbwriter.store_sql_oncpu_pct= 46%
[7][      debug] dbwriter.store_sql_pct= 2%
[7][      debug] dbwriter.total_time_user= 0.07709800
[7][      debug] dbwriter.total_time_sys= 0.00404500
[7][      debug] dbwriter.total_time_wall= 1.30700792
[7][      debug] dbwriter.total_time_oncpu_pct= 6%
[7][      debug] [1][      debug] Sqlite write daemon: process 7 terminated
